<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity"
      xmlns:hm="http://www.itec.hankyu-hanshin.co.jp/hitmall" lang="ja">
<head>
    <meta th:replace="~{include/head_new}"/>
    <title>アンケート登録更新｜店舗管理</title>
    <script type="text/javascript" th:src="@{/assets/js/multiTab.js}"></script>
    <script>

        // <!--
        /**
         * 並び替え、削除対象の設問設定を設定
         */
        function setSelectDspNo(target) {
            var td = target.closest("td");
            var tr = $(td).parent();
            var dspNo = $(tr).find("input[id*='dspNo']").val();
            $('#selectDspNo').val(dspNo);
        }


        $(function () {

            $("#openStartDate").datepicker();
            $("#openEndDate").datepicker();

            $("select[id*='replyType']").each(function () {
                cangeQuestionDisplay(this);
            });

            $("select[id*='replyType']").change(function () {
                cangeQuestionDisplay(this);
            });

            // 設問設定の表示順変更、削除ボタン押下時のイベント
            $("button[id*='doUpQuestion']").click(function () {
                setSelectDspNo(this);
            });
            $("button[id*='doDownQuestion']").click(function () {
                setSelectDspNo(this);
            });
            $("button[id*='doDeleteQuestion']").click(function () {
                setSelectDspNo(this);
            });

            // 選択肢の値を最適化
            // 改行で分割し、前後空白を除去。値がない場合は除外。
            $("textarea[id*='choices-']").focusout(function () {
                var newValues = "";
                var values = $(this).val().split("\n");
                for (var i = 0; i < values.length; i++) {
                    var tmpValue = values[i].trim();
                    if (tmpValue.length > 0) {
                        if (newValues.length > 0) {
                            newValues += "\n";
                        }
                        newValues += tmpValue
                    }
                }
                $(this).val(newValues);
            });

            if ($('.indexPageItemsError').length > 0) {
                $('#indexPageItemsError').removeAttr('style');
            }

        });

        /**
         *  設問の回答入力設定表示切替
         */
        function cangeQuestionDisplay(target) {
            var value = $(target).val();
            var td = $(target).parent();
            var tr = $(td).parent();
            if (value == "") {
                // 「選択してください」：全入力可
                $(tr).find("textarea[id*='choices']").removeAttr('disabled');
                $(tr).find("select[id*='replyValidatePattern']").removeAttr('disabled');
                $(tr).find("input[id*='replyMaxLength']").removeAttr('disabled');
            } else if (value == 0) {
                // 「テキストボックス」：文字種、桁数入力可
                $(tr).find("textarea[id*='choices']").attr('disabled', 'disabled');
                $(tr).find("select[id*='replyValidatePattern']").removeAttr('disabled');
                $(tr).find("input[id*='replyMaxLength']").removeAttr('disabled');
            } else if (value == 1) {
                // 「テキストエリア」：桁数入力可（※文字種は「制限なし」固定）
                $(tr).find("textarea[id*='choices']").attr('disabled', 'disabled');
                $(tr).find("select[id*='replyValidatePattern']").val(0);
                $(tr).find("select[id*='replyValidatePattern']").attr('disabled', 'disabled');
                $(tr).find("input[id*='replyMaxLength']").removeAttr('disabled');
            } else {
                // 上記以外(選択形式)：選択肢のみ入力可
                $(tr).find("textarea[id*='choices']").removeAttr('disabled');
                $(tr).find("select[id*='replyValidatePattern']").attr('disabled', 'disabled');
                $(tr).find("input[id*='replyMaxLength']").attr('disabled', 'disabled');
            }
        }

        //-->
    </script>
</head>

<body id="shop">
<div id="questionnaireRegistShop" class="l-mainwrap">

    <!-- side -->
    <div th:replace="~{include/sidemenu_new}"></div>
    <main class="l-page">
        <!-- header -->
        <div th:replace="~{include/header_new}"></div>
        <div class="l-container">
            <!-- contents -->
            <div class="l-main">

                <form id="indexForm" th:action="@{/questionnaire/registupdate/}"
                      th:object="${questionnaireRegistUpdateModel}" method="post"
                      onsubmit="return errorCheckOnclickConfirmButton();">
                    <input type="hidden" id="scSeq"/>

                    <div class="l-pagetitle_wrap">
                        <h1 class="c-pagetitle_h1">アンケート登録更新</h1>
                    </div>
                    <div th:if="${allMessages}" class="inputError"
                         th:class="${allMessages.allInfo()?'global-info-message':'global-error-message'}">
                        <ul th:each="message : ${allMessages}">
                            <li th:text="${message}"></li>
                        </ul>
                    </div>
                    <div class="l-section" id="mainContainer">
                        <!--          Block 1      -->
                        <article class="l-article">
                            <div class="l-article_title">
                                <h2 class="c-pagetitle_h3">基本共通設定</h2>
                                <div class="c-open-btn"><i></i></div>
                            </div>
                            <div class="l-article_inner">
                                <div class="l-inner_wrap">
                                    <dl class="c-dl-base dt_fn13 dt_w160px">

                                        <div class="wrap_flex_equivalent">
                                            <div class="col">
                                                <dl class="c-dl-base dt_w160px">
                                                    <div class="edit">
                                                        <dt>アンケートキー<span th:if="*{isRegistQ}" class="ico_required">必須</span></dt>
                                                        <th:block th:if="*{isRegistQ}">
                                                            <dd class="w20px">
                                                                <input type="text" class="c-form-control w260px"
                                                                       th:field="*{questionnaireKey}" maxlength="20"
                                                                       th:errorclass="error">
                                                                <div th:if="${#fields.hasErrors('questionnaireKey')}"
                                                                     th:errors="*{questionnaireKey}" class="c-error-txt mt5"></div>

                                                                <br/>※注文用アンケートの場合はキーを「order」に設定してください
                                                            </dd>
                                                        </th:block>
                                                        <th:block th:unless="*{isRegistQ}">
                                                            <dd th:text="*{questionnaireKey}"></dd>
                                                        </th:block>
                                                    </div>
                                                </dl>
                                            </div>

                                            <div class="col">
                                                <dl class="c-dl-base dt_w160px">
                                                    <div>
                                                        <dt>アンケートSEQ</dt>
                                                        <dd><span id="questionnaireSeq" th:text="*{questionnaireSeq}"/></dd>
                                                    </div>
                                                </dl>
                                            </div>

                                        </div>
                                        <div class="edit">
                                            <dt>アンケート名<span class="ico_required">必須</span></dt>
                                            <dd>
                                                <input type="text" class="c-form-control w260px"
                                                       th:field="*{name}" maxlength="100"
                                                       th:errorclass="error">
                                                <div th:if="${#fields.hasErrors('name')}"
                                                     th:errors="*{name}" class="c-error-txt mt5"></div>
                                            </dd>
                                        </div>

                                        <div class="wrap_flex_equivalent">
                                            <div class="col">
                                                <dl class="c-dl-base dt_w160px">
                                                    <div class="edit">
                                                        <dt>公開開始日時<span th:if="*{isUpdateOpenStartTime}" class="ico_required">必須</span>
                                                        </dt>

                                                        <th:block th:if="*{isUpdateOpenStartTime}">
                                                            <dd>

                                                                <div>
                                                                    <label class="c-datepicker w150px">
                                                                        <input type="text" id="openStartDate"
                                                                               th:field="*{openStartDate}" maxlength="10"
                                                                               autocomplete="off" class="c-form-control"
                                                                               placeholder="年/月/日" th:errorclass="error">
                                                                    </label>
<!--                                                                    <div  th:if="${#fields.hasErrors('openStartDate')}"-->
<!--                                                                          th:errors="*{openStartDate}" class="c-error-txt mt5" style="display: inline;margin-right: 50px;"></div>-->
                                                                    <input type="text" id="openStartTime" th:field="*{openStartTime}"
                                                                           autocomplete="off" class="c-form-control w100px ml10" maxlength="8"
                                                                           placeholder="00:00:00" th:errorclass="error">

                                                                </div>
                                                                <div>
                                                                    <div id="openStartDateError" th:if="${#fields.hasErrors('openStartDate')}"
                                                                          th:errors="*{openStartDate}" class="c-error-txt mt5" ></div>
                                                                    <div id="openStartTimeError" th:if="${#fields.hasErrors('openStartTime')}"
                                                                          th:errors="*{openStartTime}" class="c-error-txt mt5"></div>
                                                                </div>
                                                            </dd>
                                                        </th:block>
                                                        <th:block th:unless="*{isUpdateOpenStartTime}">

                                                            <dd class="c-times_inner">
                                                                <span th:remove="tag" th:text="*{#date.convert(openStartDate)}"></span>

                                                                <span th:remove="tag" th:text="*{#date.convert(openStartTime, 'HH:mm:ss')}"></span>

                                                            </dd>
                                                        </th:block>
                                                 </div>
                                                </dl>
                                            </div>
                                            <div class="col">
                                                <dl class="c-dl-base dt_w160px">
                                                    <div class="edit">
                                                        <dt>公開終了日時<span class="ico_required">必須</span></dt>
                                                        <dd>
                                                            <div>
                                                                <label class="c-datepicker w150px">
                                                                    <input type="text" id="openEndDate" th:field="*{openEndDate}"
                                                                           autocomplete="off" class="c-form-control" maxlength="10"
                                                                           placeholder="年/月/日" th:errorclass="error">
                                                                </label>

                                                                <input type="text" id="openEndTime" th:field="*{openEndTime}"
                                                                       autocomplete="off" class="c-form-control w100px ml10" maxlength="8"
                                                                       placeholder="00:00:00" th:errorclass="error">
                                                            </div>
                                                            <div>
                                                                <div>
                                                                    <div id="openEndDateError" th:if="${#fields.hasErrors('openEndDate')}"
                                                                          th:errors="*{openEndDate}" class="c-error-txt mt5" ></div>
                                                                    <div  id="openEndTimeError" th:if="${#fields.hasErrors('openEndTime')}"
                                                                          th:errors="*{openEndTime}" class="c-error-txt mt5" ></div>
                                                                </div>
                                                            </div>


                                                        </dd>
                                                    </div>
                                                </dl>
                                            </div>
                                        </div>

                                        <div >
                                            <dt>サイトマップ出力<span class="ico_required">必須</span></dt>
                                            <dd colspan="3">
                                                <select th:field="*{siteMapFlag}" th:errorclass="error"
                                                                    title="サイトマップ出力" class="c-form-control">
                                                <option value="">選択してください</option>
                                                <option th:each="item : *{siteMapFlagItems}"
                                                        th:value="${item.key}" th:text="${item.value}"
                                                        th:selected="${item.key} == ${siteMapFlag}"></option>
                                                </select>
                                                <div id="siteMapFlagError" th:if="${#fields.hasErrors('siteMapFlag')}"
                                                     th:errors="*{siteMapFlag}" class="c-error-txt mt5"></div>
                                            </dd>

                                        </div>
                                        <div class="edit">
                                            <dt>管理用メモ</dt>
                                            <dd>
                                                <textarea id="memo" th:field="*{memo}" rows="5"
                                                          class="c-form-control w600px" title="管理用メモ"/>
                                            </dd>
                                        </div>
                                    </dl>
                                </div>
                            </div>
                        </article>
                        <!-- Block 2-->
                        <article class="l-article">
                            <div class="l-article_title">
                                <h2 class="c-pagetitle_h3">基本サイト別設定</h2>
                                <div class="c-open-btn"><i></i></div>
                            </div>
                            <div class="l-article_inner">
                                <div class="l-inner_wrap">
                                    <dl class="c-dl-base dt_fn13 dt_w160px">
                                        <div class="edit">
                                            <dt>表示名</dt>
                                            <dd>
                                                <input type="text" class="c-form-control w400px"
                                                       th:field="*{namePc}" maxlength="100"
                                                       th:errorclass="error">
                                                <div id="namePcError" th:if="${#fields.hasErrors('namePc')}"
                                                     th:errors="*{namePc}" class="c-error-txt mt5"></div>
                                            </dd>
                                        </div>
                                        <div class="edit">
                                            <dt class="name">公開状態<span class="ico_required">必須</span></dt>
                                            <dd colspan="3">
                                                <select th:field="*{openStatusPc}" title="公開状態PC"
                                                                    class="c-form-control" th:errorclass="error">
                                                <option value="">選択してください</option>
                                                <option th:each="item : *{openStatusPcItems}"
                                                        th:value="${item.key}" th:text="${item.value}"
                                                        th:selected="${item.key} == ${openStatusPc}"></option>
                                                </select>
                                                <div id="openStatusPcError" th:if="${#fields.hasErrors('openStatusPc')}"
                                                     th:errors="*{openStatusPc}" class="c-error-txt mt5"></div>
                                            </dd>
                                        </div>
                                        <div class="edit">
                                            <dt class="name">説明文 （HTML可)</dt>
                                            <dd>
                                                <textarea th:field="*{freeTextPc}" th:errorclass="error" rows="5"
                                                          id="freeTextPc" class="c-form-control w500px"
                                                          title="説明文PC"/>

                                            </dd>
                                        </div>
                                        <div class="edit">
                                            <dt class="name">回答完了文 （HTML可）</dt>
                                            <dd>
                                                <textarea th:field="*{completeTextPc}" th:errorclass="error" rows="5"
                                                          id="completeTextPc" class="c-form-control w500px"
                                                          title="回答完了文PC"/>
                                            </dd>
                                        </div>
                                    </dl>
                                </div>
                            </div>
                        </article>
                        <!--          Block 3      -->
                        <article class="l-article">
                            <div class="l-article_title">
                                <h2 class="c-pagetitle_h3">設問設定</h2>
                                <div class="c-open-btn"><i></i></div>
                                <input type="hidden" th:field="*{selectDspNo}"/>
                            </div>
                            <div class="l-article_inner pb50">
                                <div class="l-inner_wrap" style="padding-top: 0px;">
                                    <dl class="c-dl-base dt_fn13 dt_w160px">
                                        <table class="c-tbl no_line tbl_regulations mt35">
                                            <thead>
                                            <tr>
                                                <th class="sort" rowspan="2"></th>
                                                <th class="number" rowspan="2">#</th>
                                                <th class="w250px" rowspan="2">設問内容 <span class="c-req">※</span>
                                                </th>
                                                <th class="w200px" rowspan="2">公開状態 <span class="c-req">※</span>
                                                </th>
                                                <th class="center" colspan="6" style="text-align: center;">
                                                    回答入力設定
                                                </th>


                                            </tr>
                                            <tr>
                                                <th class="w150px">必須 <span class="c-req">※</span></th>
                                                <th class="w150px">形式 <span class="c-req">※</span></th>
                                                <th class="w150px">文字種</th>
                                                <th class="w75px">桁数</th>
                                                <th class="w350px">選択肢</th>
                                                <th class="w200px"></th>
                                            </tr>
                                            </thead>
                                            <th:block th:each="itemPage, stat: *{indexPageItems}">
                                                <tbody>
                                                <tr>
                                                    <th:block th:if="*{isQuestionDeletable}">
                                                        <td rowspan="2" class="sort">
                                                            <div class="c-btn-up_down">
                                                                <div class="up">
                                                                    <button class="c-btn-icon bg_white02" type="submit"
                                                                            id="doUpQuestion" name="doUpQuestion">
                                                                        <i class="material-icons keyboard_arrow_up"></i>
                                                                    </button>
                                                                </div>
                                                                <div class="down">
                                                                    <button class="c-btn-icon bg_white02" type="submit"
                                                                            id="doDownQuestion" name="doDownQuestion">
                                                                        <i class="material-icons keyboard_arrow_down"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </th:block>
                                                    <th:block th:unless="*{isQuestionDeletable}">
                                                        <td rowspan="2" class="sort">

                                                        </td>
                                                    </th:block>

                                                    <td><span
                                                            th:text="*{indexPageItems[__${stat.index}__].orderDisplay}"/><input
                                                            type="hidden"
                                                            th:field="*{indexPageItems[__${stat.index}__].dspNo}"/></td>
                                                    <td><textarea
                                                            th:field="*{indexPageItems[__${stat.index}__].question}"
                                                            th:errorclass="error" rows="5" class="c-form-control w200px"
                                                            title="設問設定-設問内容"/></td>
                                                    <td>
                                                        <select th:field="*{indexPageItems[__${stat.index}__].openStatus}"
                                                                title="設問設定-公開状態" class="c-form-control w150px" th:errorclass="error">
                                                            <option value="">選択してください</option>
                                                            <option th:each="item : *{openStatusItems}"
                                                                    th:value="${item.key}" th:text="${item.value}"
                                                                    th:selected="${item.key} == ${itemPage.openStatus}"></option>
                                                        </select>
                                                    </td>
                                                    <!--                               回答入力設定                 -->
                                                    <th:block th:if="*{indexPageItems[__${stat.index}__].isUpdateQuestion}" >

                                                        <td>
                                                            <select th:field="*{indexPageItems[__${stat.index}__].replyRequiredFlag}"
                                                                    title="設問設定-必須" class="c-form-control w150px" th:errorclass="error">
                                                                <option value="">選択してください</option>
                                                                <option th:each="item : *{replyRequiredFlagItems}"
                                                                        th:value="${item.key}" th:text="${item.value}"
                                                                        th:selected="${item.key} == *{indexPageItems[__${stat.index}__].replyRequiredFlag}"></option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select th:field="*{indexPageItems[__${stat.index}__].replyType}"
                                                                    title="設問設定-形式" class="c-form-control w150px" th:errorclass="error">
                                                                <option value="">選択してください</option>
                                                                <option th:each="item : *{replyTypeItems}"
                                                                        th:value="${item.key}" th:text="${item.value}"
                                                                        th:selected="${item.key} == *{indexPageItems[__${stat.index}__].replyType}"></option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <select th:field="*{indexPageItems[__${stat.index}__].replyValidatePattern}"
                                                                    title="設問設定-文字種"
                                                                    class="c-form-control w150px" th:errorclass="error">
                                                                <option value="">選択してください</option>
                                                                <option th:each="item : *{replyValidatePatternItems}"
                                                                        th:value="${item.key}" th:text="${item.value}"
                                                                        th:selected="${item.key} == *{indexPageItems[__${stat.index}__].replyValidatePattern}"></option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <input type="text"
                                                                   th:field="*{indexPageItems[__${stat.index}__].replyMaxLength}" th:errorclass="error"
                                                                   maxlength="4" class="c-form-control w50px right"
                                                                   title="設問設定-桁数"/>
                                                        </td>

                                                        <td>
                                                            <textarea
                                                                    th:field="*{indexPageItems[__${stat.index}__].choices}"
                                                                    th:errorclass="error" rows="5"
                                                                    class="c-form-control w200px "
                                                                    title="設問設定-選択肢"/>
                                                        </td>


                                                        <th:block th:if="*{isQuestionDeletable}">
                                                            <td class="delete">
                                                                <div style="text-align: center">
                                                                    <button class="c-btn-icon " name="doDeleteQuestion"
                                                                            id="doDeleteQuestion"
                                                                            type="submit">
                                                                        <i class="material-icons clear"></i>
                                                                    </button>
                                                                </div>
                                                            </td>

                                                        </th:block>
                                                        <th:block th:unless="*{isQuestionDeletable}">
                                                            <td >
                                                            </td>

                                                        </th:block>
                                                    </th:block>
                                                    <th:block th:unless="*{indexPageItems[__${stat.index}__].isUpdateQuestion}" >
                                                        <td >
                                                            <span th:text="${#enumtype.getLabel('HTypeReplyRequiredFlag', itemPage.replyRequiredFlag)}"></span>
                                                        </td>
                                                        <td >
                                                            <span th:text="${#enumtype.getLabel('HTypeReplyType', itemPage.replyType)}"></span>
                                                        </td>
                                                        <td >
                                                            <span th:text="${#enumtype.getLabel('HTypeReplyValidatePattern',itemPage.replyValidatePattern)}"></span>
                                                        </td>
                                                       <td> <span th:text="${itemPage.replyMaxLength}"></span> </td>
                                                       <td> <span th:text="${itemPage.choices}"></span></td>
                                                        <td></td>
                                                    </th:block>
                                                </tr>
                                                </tbody>
                                            </th:block>
                                        </table>
                                        <div id="indexPageItemsError" class="c-error-txt mt20" style="display: none">
                                            <div style="display: block">
                                            <p class="mb5"><strong>[入力チェックエラー]</strong></p>
                                            <table>
                                                <th:block th:each="item, stat: *{indexPageItems}">
                                                    <tr th:each="err : ${#fields.errors('indexPageItems[__${stat.index}__].question')}"
                                                        class="indexPageItemsError">
                                                        <td th:text="${stat.index + 1} + '行目'"></td>
                                                        <td class="pl5">設問内容</td>
                                                        <td th:text="'： ' + ${err}" class="pl5"></td>
                                                    </tr>
                                                    <tr th:each="err : ${#fields.errors('indexPageItems[__${stat.index}__].openStatus')}"
                                                        class="indexPageItemsError">
                                                        <td th:text="${stat.index + 1} + '行目'"></td>
                                                        <td class="pl5">公開状態</td>
                                                        <td th:text="'： ' + ${err}" class="pl5"></td>
                                                    </tr>
                                                    <tr th:each="err : ${#fields.errors('indexPageItems[__${stat.index}__].replyRequiredFlag')}"
                                                        class="indexPageItemsError">
                                                        <td th:text="${stat.index + 1} + '行目'"></td>
                                                        <td class="pl5">必須</td>
                                                        <td th:text="'： ' + ${err}" class="pl5"></td>
                                                    </tr>
                                                    <tr th:each="err : ${#fields.errors('indexPageItems[__${stat.index}__].replyType')}"
                                                        class="indexPageItemsError">
                                                        <td th:text="${stat.index + 1} + '行目'"></td>
                                                        <td class="pl5">形式</td>
                                                        <td th:text="'： ' + ${err}" class="pl5"></td>
                                                    </tr>
                                                    <tr th:each="err : ${#fields.errors('indexPageItems[__${stat.index}__].replyValidatePattern')}"
                                                        class="indexPageItemsError">
                                                        <td th:text="${stat.index + 1} + '行目'"></td>
                                                        <td class="pl5">文字種</td>
                                                        <td th:text="'： ' + ${err}" class="pl5"></td>
                                                    </tr>
                                                    <tr th:each="err : ${#fields.errors('indexPageItems[__${stat.index}__].replyMaxLength')}"
                                                        class="indexPageItemsError">
                                                        <td th:text="${stat.index + 1} + '行目'"></td>
                                                        <td class="pl5">桁数</td>
                                                        <td th:text="'： ' + ${err}" class="pl5"></td>
                                                    </tr>
                                                    <tr th:each="err : ${#fields.errors('indexPageItems[__${stat.index}__].choices')}"
                                                        class="indexPageItemsError">
                                                        <td th:text="${stat.index + 1} + '行目'"></td>
                                                        <td class="pl5">選択肢</td>
                                                        <td th:text="'： ' + ${err}" class="pl5"></td>
                                                    </tr>

                                                </th:block>
                                            </table>
                                            </div>
                                        </div>
                                    </dl>
                                </div>
                                <th:block th:if="*{isQuestionAddable()}">
                                    <div class="mt20 ml60 txt_left">
                                        <button class="c-btn_add" style="font-size: 20px;" type="submit" name="doAddQuestion">
                                            <i></i><span class="size22">追加</span>
                                        </button>
                                    </div>
                                </th:block>
                            </div>
                        </article>

                    </div>
                    <!-- 追尾ボタン -->
                    <div class="l-pagebtn-nav">
                        <div class="l-pagebtn-nav_inner">

                            <th:block th:if="*{isRegistQ}">
                                <div class="c-back">
                                    <button type="submit" class="c-btn btn_back icon_left" name="doCancel"><i
                                            class="material-icons navigate_before"></i>戻る
                                    </button>
                                </div>
                            </th:block>
                            <th:block th:unless="*{isRegistQ}">
                                <div class="c-back">

                                        <a class="c-btn btn_back icon_left"
                                           th:href="@{/questionnaire/details/(seq=*{questionnaireSeq})}"><i
                                                class="material-icons navigate_before"></i>キャンセル</a>

                                </div>
                            </th:block>
                            <div class="col_left">
                                <input type="hidden" id="isConfirmBtnClicked" value="false"/>
                                <button class="c-btn btn_regular" type="submit" id="doConfirm" name="doConfirm">確認</button>

                            </div>
                        </div>
                    </div>
                </form>
            </div>


        </div>
        <div th:replace="~{include/footer_new}"></div>
    </main>

</div>
</body>
</html>